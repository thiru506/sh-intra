<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <screen name="main">
        <section>
            <actions>
                <set field="headerItem" value="main"/><!-- this highlights the selected menu-item with name "main" -->
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="transport">
        <section>
            <actions>
                <set field="tabButtonItem" value="utilities"/><!-- this highlights the selected menu-item with name "main" -->
                <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/vehicleLookupTable.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    		<include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="UtilitiesSubTabBar"/>
                          <container>
							<screenlet title="Vehicles">
								<platform-specific>
									<html>
										<html-template
											location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/vehicleLookupTable.ftl"></html-template>
									</html>
								</platform-specific>
							</screenlet>
						</container>
						<!-- <platform-specific><html><html-template location="component://schoolmgmt/webapp/schoolmgmt/forms/createTranportRoute.ftl"/></html></platform-specific> -->
                     </decorator-section>
                    
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="StudentLookUpTable">
        <section>
            <actions>
                <set field="tabButtonItem" value="admission"/><!-- this highlights the selected menu-item with name "main" -->
                <set field="tabButtonItem2" value="studentLookUpTable"/>
                
                <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/studentLookupTable.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    		<include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="AdmissionSubTabBar"/>
                          <container>
							<screenlet title="Students">
								<platform-specific>
									<html>
										<html-template
											location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/studentLookupTable.ftl"></html-template>
									</html>
								</platform-specific>
							</screenlet>
						</container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="TimeTableLookUpTable">
        <section>
            <actions>
                <set field="tabButtonItem" value="timeTable"/><!-- this highlights the selected menu-item with name "main" -->
                <set field="tabButtonItem2" value="TimeTableLookUpTable"/>
                <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/timeTableLookupTable.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                           <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="TimeTableSubTabBar"/>
                          <container>
							<screenlet title="Time Table LookUp">
								<platform-specific>
									<html>
										<html-template
											location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/timeTableLookupTable.ftl"></html-template>
									</html>
								</platform-specific>
							</screenlet>
						</container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="TimeTableOverView">
        <section>
            <actions>
                <set field="tabButtonItem" value="timeTable"/><!-- this highlights the selected menu-item with name "main" -->
                 <set field="tabButtonItem2" value="timeTableOverView"/>
                 <set field="titleProperty" value="OverView"/>
                 <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/TimeTableOverView.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    		<include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="TimeTableSubTabBar"/>
                          <container style="lefthalf">
	                           <screenlet title="TimeTable Details">
	                           <include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="TimeTableOverView"/>
	                           </screenlet>
							<screenlet title="List Events">
								<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="ListTimeTableEvents"/>
							</screenlet>
						</container>
						<container style="righthalf">
							<screenlet title="Add Event">
								<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="AddEvent"/>
							</screenlet>
						</container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="Dormitary">
        <section>
            <actions>
                <set field="tabButtonItem" value="utilities"/><!-- this highlights the selected menu-item with name "main" -->
                 <set field="tabButtonItem2" value="dormitary"/>
                <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/DormitaryLookupTable.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    		<include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="UtilitiesSubTabBar"/>
                          <container>
							<screenlet title="Dormitarys">
								<platform-specific>
									<html>
										<html-template
											location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/DormitaryLookupTable.ftl"></html-template>
									</html>
								</platform-specific>
							</screenlet>
						</container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="DailyAttendance">
        <section>
            <actions>
                <set field="tabButtonItem" value="attendance"/>
                 <set field="tabButtonItem2" value="EmployeeAttendance"/>
                <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/DormitaryLookupTable.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    		<include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="UtilitiesSubTabBar"/>
                          <container>
							<screenlet title="Dormitarys">
								<platform-specific>
									<html>
										<html-template
											location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/DormitaryLookupTable.ftl"></html-template>
									</html>
								</platform-specific>
							</screenlet>
						</container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <screen name="DailyAttendanceEntry">
        <section>
            <actions>
				<set field="headerItem" value="attendance" />
				<set field="tabButtonItem" value="attendance" />
 				<set field="tabButtonItem2" value="dailyAttendanceEntry" />                                           				
				<set field="titleProperty" value="dailyAttendanceEntry" />
				<set field="ajaxUrl" value="DailyAttendanceEntryInternal" type="String"/>
				
				<script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/employees.groovy"/> 
            </actions>            
            <widgets>
				<decorator-screen name="SchoolMgmtCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body"> 
                        <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="AttendanceSubTabBar"/>                                                        					   					
                        <platform-specific>
							<html><html-template location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/dailyPunchEditTable.ftl"></html-template></html>                         
                        </platform-specific>  
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
     <screen name="AttendanceEntry">
        <section>
            <actions>
				<set field="headerItem" value="attendance" />
				<set field="tabButtonItem" value="attendance" />
 				<set field="tabButtonItem2" value="AttendanceEntry" />                                           				
				<set field="titleProperty" value="AttendanceEntry" />
				<set field="ajaxUrl" value="DailyAttendanceEntryInternal" type="String"/>
				<set field="flag" value="attendanceEntry"/>
				<script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/attendanceEntry.groovy"/> 
            </actions>            
            <widgets>
				<decorator-screen name="SchoolMgmtCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body"> 
                        <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="AttendanceSubTabBar"/>                                                        					   					
                        <platform-specific>
							<html><html-template location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/AttendanceEntry.ftl"></html-template></html>                         
                        </platform-specific>  
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>     
	
	<screen name="DailyAttendanceEntryInternal">
        <section>
            <actions>
                <entity-and list="punchTypeList" entity-name="Enumeration">
                   <field-map field-name="enumTypeId" value="PUNCH_TYPE"/>
                   <order-by field-name="sequenceId"/>
                </entity-and>
				<script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/dailyPunch.groovy"/>  
            </actions>            
            <widgets>
            	 <platform-specific> 
                		<html><html-template location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/dailyPunchEditTableInternal.ftl"/></html>
                 </platform-specific>  
            </widgets>
        </section>
    </screen>
   <screen name="HostelOverView">
        <section>
            <actions>
                <set field="tabButtonItem" value="utilities"/><!-- this highlights the selected menu-item with name "main" -->
                 <set field="tabButtonItem2" value="dormitary"/>
                 <set field="titleProperty" value="OverView"/>
                 <!-- <entity-condition list="facilityPartyList" entity-name="FacilityParty">
                 	<condition-expr field-name="facilityId" from-field="parameters.facilityId" operator="equals"/>
                 </entity-condition> -->
                 <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/HostelOverView.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    		<include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="UtilitiesSubTabBar"/>
                          <container style="lefthalf">
                           <screenlet title="Hostel Details">
                           		<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="facilityContact"/>
                           </screenlet>
							<screenlet title="Students">
								<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="listFacilityParties"/>
							</screenlet>
						</container>
						<container style="righthalf">
						<screenlet title="Address">
						<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="HostelAddress"/>
						</screenlet>
						<screenlet title="Add Student">
							<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="AddStudent"/>
						</screenlet>
						</container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="TypeWiseRevenue">
        <section>
            <actions>
                <set field="titleProperty" value="MgmtDashBoard"/>
                <set field="tabButtonItem" value="MgmtDashBoard"/>
 				<set field="tabButtonItem2" value="MgmtDashBoard" />
 				<set field="ajaxUrl" value="TypeWiseRevenueInternal" type="String"/>
            </actions>            
            <widgets>
                   <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">     
                        <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="MgmtDashBoardSubTabBar"/>                                                        
                        	<platform-specific> 
                            	<html><html-template location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/selectFields.ftl"/></html>
                        	</platform-specific>   
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>   
	 <screen name="TypeWiseRevenueInternal">
        <section>
            <actions>
				 <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/MgmtDashBoard.groovy"/>
            </actions>            
            <widgets>
                   	<platform-specific> 
                       	<html><html-template location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/RevenueCharts.ftl"/></html>
                   	</platform-specific>   
            </widgets>
        </section>
    </screen>  
    <screen name="VechicleOverView">
        <section>
            <actions>
                <set field="tabButtonItem" value="utilities"/><!-- this highlights the selected menu-item with name "main" -->
                 <set field="tabButtonItem2" value="transport"/>
                 <set field="titleProperty" value="Vehicle OverView"/>
                 <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/VechicleOverView.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                            <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="UtilitiesSubTabBar"/>
                          <container style="lefthalf">
                           <screenlet title="Vechicle Details">
                                   <include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="VehicleDetails"/>
                           </screenlet>
                           <screenlet title="Driver Details">
                           <include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="listVehicleDriver"/>
                            </screenlet>
                            <screenlet title="Students">
                            <include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="listVehicleStudents"/>
                            </screenlet>
                        </container>
                        <container style="righthalf">
                        <screenlet title="Add Party">
                        <include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="AddPartyToRoute"/>
                        </screenlet>
                        </container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="ProfilePicture">
        <section>
            <actions>
                <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/DisplayProfilePic.groovy"/>
                <set field="partyId" from-field="parameters.partyId"/>
                <set field="contentId" from-field="parameters.contentId"/>
                <entity-one entity-name="Content" value-field="content"/>
            </actions>
            <widgets>
                <screenlet title="Profile Picture">
                    <include-form name="ProfilePicture" location="component://schoolmgmt/widget/SchoolMgmtForms.xml"/>
                </screenlet>
            </widgets>
        </section>
    </screen>
    <screen name="partyOverView">
        <section>
            <actions>
                <set field="tabButtonItem" value="admission"/><!-- this highlights the selected menu-item with name "main" -->
                 <set field="tabButtonItem2" value="studentLookUpTable"/>
                 <set field="titleProperty" value="Student OverView"/>
                 <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/StudentOverView.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="AdmissionSubTabBar"/>
                          <container style="lefthalf">
                           <screenlet title="Student Details">
                           <include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="studentOverView"/>
                           </screenlet>
                           <screenlet title="Present Address">
                        		<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="PresentAddress"/>
                        	</screenlet>
                        	<screenlet title="Fin.History">
                        		<include-screen name="PartyFinancialHistory"/>
                        	</screenlet>
                        </container>
                        <container style="righthalf">
                            <screenlet title="Profile Picture">
                        		<include-screen name="ProfilePicture"/>
                        	</screenlet>
                        	<screenlet title="Permanent Address">
                        		<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="PermanentAddress"/>
                        	</screenlet>
                        	<include-screen name="Content" location="component://party/widget/partymgr/ProfileScreens.xml"/>
                        </container>
                     </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="PartyFinancialHistory">
        <section>
            <actions>
                <set field="partyId" from-field="parameters.partyId"/>
                <entity-one entity-name="Party" value-field="party"/>
            </actions>
            <widgets>
                        <section>
                            <actions>
                                <entity-condition entity-name="InvoiceAndApplAndPayment" list="ListInvoicesApplPayments">
                                    <condition-list combine="and">
                                        <condition-list combine="or">
                                            <condition-list combine="and">
                                                <condition-expr field-name="partyId" from-field="partyId"/>
                                                <condition-expr field-name="partyIdFrom" from-field="defaultOrganizationPartyId"/>
                                            </condition-list>
                                            <condition-list combine="and">
                                                <condition-expr field-name="partyId" from-field="defaultOrganizationPartyId"/>
                                                <condition-expr field-name="partyIdFrom" from-field="partyId"/>
                                            </condition-list>
                                        </condition-list>
                                        <condition-expr field-name="statusId" operator="not-equals" value="INVOICE_IN_PROCESS"/>
                                        <condition-expr field-name="statusId" operator="not-equals" value="INVOICE_CANCELLED"/>
                                        <condition-expr field-name="statusId" operator="not-equals" value="INVOICE_WRITEOFF"/>
                                    </condition-list>
                                </entity-condition>
                            </actions>
                            <widgets>
                                <section>
                                    <condition>
                                        <not><if-empty field="ListInvoicesApplPayments"/></not>
                                    </condition>
                                    <actions>
                                        <set field="actualCurrency" value="false" type="Boolean"/>
                                        <set field="actualCurrencyUomId" from-field="defaultOrganizationPartyCurrencyUomId"/>
                                    </actions>
                                    <widgets>
                                        <screenlet title="${uiLabelMap.AccountingInvoicesApplPayments}" navigation-form-name="Invoices">
                                            <include-form name="ListInvoicesApplPayments" location="component://party/widget/partymgr/PartyForms.xml"/>
                                            <section>
                                                <condition>
                                                    <and>
                                                        <not><if-empty field="party.preferredCurrencyUomId"/></not>
                                                        <if-compare-field field="defaultOrganizationPartyCurrencyId" operator="not-equals" to-field="party.preferredCurrencyUomId"/>
                                                    </and>
                                                </condition>
                                                <actions>
                                                    <set field="actualCurrency" value="true" type="Boolean"/>
                                                    <set field="actualCurrencyUomId" from-field="party.preferredCurrencyUomId"/>
                                                </actions>
                                                <widgets>
                                                    <label style="h2" text="${uiLabelMap.PartyCurrency}"></label>
                                                    <include-form name="ListInvoicesApplPayments" location="component://party/widget/partymgr/PartyForms.xml"/>
                                                </widgets>
                                            </section>
                                        </screenlet>
                                    </widgets>
                                </section>
                            </widgets>
                        </section>
                        <section>
                            <actions>
                                <set field="actualCurrency" value="false" type="Boolean"/>
                                <set field="actualCurrencyUomId" from-field="defaultOrganizationPartyCurrencyUomId"/>
                            </actions>
                            <widgets>
                                <screenlet title="${uiLabelMap.PartyInvoicesNotApplied}" navigation-form-name="partyFinancialHistoryInvoicesN">
                                    <include-form name="ListUnAppliedInvoices" location="component://party/widget/partymgr/PartyForms.xml"/>
                                    <section>
                                        <condition>
                                            <and>
                                                <not><if-empty field="party.preferredCurrencyUomId"/></not>
                                                <if-compare-field field="defaultOrganizationPartyCurrencyUomId" operator="not-equals" to-field="party.preferredCurrencyUomId"/>
                                            </and>
                                        </condition>
                                        <actions>
                                            <set field="actualCurrency" value="true" type="Boolean"/>
                                            <set field="actualCurrencyUomId" from-field="party.preferredCurrencyUomId"/>
                                        </actions>
                                        <widgets>
                                            <label style="h2" text="${uiLabelMap.PartyCurrency}"></label>
                                            <include-form name="ListUnAppliedInvoices" location="component://party/widget/partymgr/PartyForms.xml"/>
                                        </widgets>
                                    </section>
                                </screenlet>
                            </widgets>
                        </section>
                        <section>
                            <actions>
                                <set field="actualCurrency" value="false" type="Boolean"/>
                                <set field="actualCurrencyUomId" from-field="defaultOrganizationPartyCurrencyId"/>
                            </actions>
                            <widgets>
                                <screenlet title="${uiLabelMap.PartyPaymentsNotApplied}" navigation-form-name="partyFinancialHistoryPaymentsN">
                                    <include-form name="ListUnAppliedPayments" location="component://party/widget/partymgr/PartyForms.xml"/>
                                    <section>
                                        <condition>
                                            <and>
                                                <not><if-empty field="party.preferredCurrencyUomId"/></not>
                                                <if-compare-field field="defaultOrganizationPartyCurrencyId" operator="not-equals" to-field="party.preferredCurrencyUomId"/>
                                            </and>
                                        </condition>
                                        <actions>
                                            <set field="actualCurrency" value="true" type="Boolean"/>
                                            <set field="actualCurrencyUomId" from-field="party.preferredCurrencyUomId"/>
                                        </actions>
                                        <widgets>
                                            <label style="h2" text="${uiLabelMap.PartyCurrency}"></label>
                                            <include-form name="ListUnAppliedPayments" location="component://party/widget/partymgr/PartyForms.xml"/>
                                        </widgets>
                                    </section>
                                </screenlet>
                            </widgets>
                        </section>
                        <section>
                            <actions>
                                <set field="actualCurrency" value="false" type="Boolean"/>
                                <set field="actualCurrencyUomId" from-field="defaultOrganizationPartyCurrencyUomId"/>
                            </actions>
                            <widgets>
                                <screenlet title="${uiLabelMap.PartyFinancialSummary}${defaultOrganizationPartyId}" navigation-form-name="partyFinancialSummary">
                                    <include-form name="partyFinancialSummary" location="component://party/widget/partymgr/PartyForms.xml"/>
                                    <section>
                                        <condition>
                                            <and>
                                                <not><if-empty field="party.preferredCurrencyUomId"/></not>
                                                <if-compare-field field="defaultOrganizationPartyCurrencyUomId" operator="not-equals" to-field="party.preferredCurrencyUomId"/>
                                            </and>
                                        </condition>
                                        <actions>
                                            <set field="actualCurrency" value="true" type="Boolean"/>
                                            <set field="actualCurrencyUomId" from-field="party.preferredCurrencyUomId"/>
                                        </actions>
                                        <widgets>
                                            <label style="h2" text="${uiLabelMap.PartyCurrency}"></label>
                                            <include-form name="partyFinancialSummary" location="component://party/widget/partymgr/PartyForms.xml"/>
                                        </widgets>
                                    </section>
                                </screenlet>
                            </widgets>
                        </section>
                  </widgets>
        </section>
    </screen>
    
    <screen name="enquiry">
        <section>
            <actions>
                <set field="tabButtonItem" value="enquiry"/><!-- this highlights the selected menu-item with name "main" -->
                 <set field="tabButtonItem2" value="enquiry"/>
                 <set field="titleProperty" value="Find Enquiry"/>
                 <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/FindStudentEnquiry.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="EnquirySubTabBar"/>
                    <!--  <platform-specific> 
                   <html><html-template location="component://common/webcommon/includes/formStyles.ftl"/></html>
                 </platform-specific>   --> 
                    <container>
                        <link target="CreateEnquiry" text="Create Enquiry" style="smallSubmit">
                        </link>
                     </container>
                    	<screenlet title="Serach Options">
                    		<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="FindEnquiry"/>
                    	</screenlet>
                    	<screenlet title="Search Results">
                    		<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="ListEnquires"/>
                    	</screenlet>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="CreateEnquiry">
    	<section>
            <actions>
                <set field="tabButtonItem" value="enquiry"/><!-- this highlights the selected menu-item with name "main" -->
                 <set field="titleProperty" value="Create Enquiry"/>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                     <platform-specific> 
                   <html><html-template location="component://common/webcommon/includes/formStyles.ftl"/></html>
                 </platform-specific>   
                    	<screenlet title="Create New Enquiry">
                    		<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="CreateEnquiry"/>
                    	</screenlet>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <screen name="AttendanceDetail">
        <section>
            <actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="AttendanceDetail" />                                           				
				<set field="titleProperty" value="AttendanceDetail" />
				            
				<set field="ajaxUrl" value="AttendanceDetailInternal" type="String"/>
				<script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/partyByRoleType.groovy"/>  				
            </actions>            
            <widgets>
				<decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body"> 
                        <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="AttendanceSubTabBar"/>                                                        					   					
                        <platform-specific>
							<html><html-template location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/partyAttendance.ftl"></html-template></html>                         
                        </platform-specific>   
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen> 
    <screen name="AttendanceDetailInternal">
        <section>
            <actions>
				<script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/partyAttendance.groovy"/>  
            </actions>            
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://schoolmgmt/webapp/schoolmgmt/schoolmgmt/partyAttendanceInternal.ftl"/></html>
                </platform-specific>   
            </widgets>
        </section>
    </screen> 
    <screen name="ViewEnquiryOverview">
        <section>
            <actions>
            <set field="tabButtonItem" value="enquiry"/><!-- this highlights the selected menu-item with name "main" -->
            <set field="tabButtonItem2" value="enquiry"/>
            <set field="titleProperty" value="Find Enquiry"/>
            <script location="component://schoolmgmt/webapp/schoolmgmt/WEB-INF/actions/schoolmgmt/FindStudentEnquiry.groovy"/>
            <!-- <entity-one value-field="enquiryDetails" entity-name="CustRequest">
            	<field-map field-name="custRequestId" from-field="parameters.custRequestId"/>
            </entity-one> -->
            <entity-condition list="custRequestNotes" entity-name="CustRequestNote">
            	<condition-expr field-name="custRequestId" from-field="parameters.custRequestId"/>
            </entity-condition>
            </actions>
            <widgets>
                <decorator-screen name="SchoolMgmtCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    <include-menu location="component://schoolmgmt/widget/SchoolMgmtMenus.xml" name="EnquirySubTabBar"/>
            			<screenlet title="Enquiry OverView" >
                			<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="EnquiryOverview"/>
                		</screenlet>
                		<screenlet title="Add Notes">
                			<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="AddEnquiryNotes"/>
                			<include-form location="component://schoolmgmt/widget/SchoolMgmtForms.xml" name="ListEnquiryNotes"/>
                		</screenlet>
                	</decorator-section>
                </decorator-screen>   
            </widgets>
        </section>
    </screen> 
    
</screens>